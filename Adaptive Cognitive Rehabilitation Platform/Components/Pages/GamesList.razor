@page "/games"
@rendermode InteractiveServer

<div class="games-container">
    <!-- Header Section -->
    <section class="games-header">
        <div class="header-content">
            <h1 class="games-title">
                <i class="bi bi-stars"></i>
                Games & Activities
            </h1>
            <p class="games-subtitle">
                Choose from our collection of cognitive games and therapeutic activities. Each is designed to improve specific cognitive skills through engaging exercises.
            </p>
        </div>
    </section>

    <!-- Info Modal -->
    @if (showInfoModal && selectedGame != null)
    {
        <div class="info-modal-overlay" @onclick="CloseInfoModal">
            <div class="info-modal" @onclick:stopPropagation>
                <div class="info-modal-header @($"modal-header-{selectedGame.Category}")">
                    <div class="modal-icon">
                        <i class="@selectedGame.Icon"></i>
                    </div>
                    <div class="modal-title-area">
                        <h2>@selectedGame.Name</h2>
                        <span class="modal-badge @($"badge-{selectedGame.Category}")">@selectedGame.CategoryDisplay</span>
                    </div>
                    <button class="modal-close-btn" @onclick="CloseInfoModal">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
                
                <div class="info-modal-body">
                    <div class="info-section">
                        <h3><i class="bi bi-info-circle"></i> About This Game</h3>
                        <p>@selectedGame.Description</p>
                    </div>

                    <div class="info-section">
                        <h3><i class="bi bi-bullseye"></i> Cognitive Benefits</h3>
                        <ul class="benefits-list">
                            @foreach (var benefit in GetGameBenefits(selectedGame.Id))
                            {
                                <li><i class="bi bi-check-circle-fill"></i> @benefit</li>
                            }
                        </ul>
                    </div>

                    <div class="info-section">
                        <h3><i class="bi bi-controller"></i> How to Play</h3>
                        <ol class="instructions-list">
                            @foreach (var instruction in GetGameInstructions(selectedGame.Id))
                            {
                                <li>@instruction</li>
                            }
                        </ol>
                    </div>

                    <div class="info-stats-grid">
                        <div class="info-stat-card">
                            <i class="bi bi-hourglass-split"></i>
                            <div class="stat-info">
                                <span class="stat-label">Duration</span>
                                <span class="stat-value">@selectedGame.DurationMinutes min</span>
                            </div>
                        </div>
                        <div class="info-stat-card">
                            <i class="bi bi-speedometer2"></i>
                            <div class="stat-info">
                                <span class="stat-label">Difficulty</span>
                                <span class="stat-value">@selectedGame.Difficulty</span>
                            </div>
                        </div>
                        <div class="info-stat-card">
                            <i class="bi bi-trophy"></i>
                            <div class="stat-info">
                                <span class="stat-label">Skill Level</span>
                                <span class="stat-value">@GetSkillLevel(selectedGame.Id)</span>
                            </div>
                        </div>
                        <div class="info-stat-card">
                            <i class="bi bi-graph-up-arrow"></i>
                            <div class="stat-info">
                                <span class="stat-label">Progress Tracking</span>
                                <span class="stat-value">Real-time</span>
                            </div>
                        </div>
                    </div>

                    <div class="info-section">
                        <h3><i class="bi bi-tags"></i> Target Skills</h3>
                        <div class="skills-tags">
                            @foreach (var feature in selectedGame.Features)
                            {
                                <span class="skill-tag @($"tag-{selectedGame.Category}")">@feature</span>
                            }
                        </div>
                    </div>

                    <div class="info-section tip-section">
                        <h3><i class="bi bi-lightbulb"></i> Pro Tips</h3>
                        <div class="tip-card">
                            <p>@GetGameTip(selectedGame.Id)</p>
                        </div>
                    </div>
                </div>

                <div class="info-modal-footer">
                    <button class="modal-cancel-btn" @onclick="CloseInfoModal">
                        <i class="bi bi-x-circle"></i> Close
                    </button>
                    <a href="@selectedGame.Route" class="modal-play-btn">
                        <i class="bi bi-play-fill"></i> Play Now
                    </a>
                </div>
            </div>
        </div>
    }

    <!-- Filter & Sort Section -->
    <section class="games-controls">
        <div class="controls-wrapper">
            <div class="search-box">
                <i class="bi bi-search"></i>
                <input 
                    type="text" 
                    class="search-input" 
                    placeholder="Search games & activities..." 
                    @bind="searchTerm"
                    @oninput="FilterGames" />
            </div>

            <div class="filter-buttons">
                <button 
                    class="filter-btn @(string.IsNullOrEmpty(selectedCategory) ? "active" : "")"
                    @onclick="@(() => FilterByCategory(null))">
                    <i class="bi bi-grid-3x3-gap"></i>
                    All
                </button>
                <button 
                    class="filter-btn @(selectedCategory == "memory" ? "active" : "")"
                    @onclick="@(() => FilterByCategory("memory"))">
                    <i class="bi bi-brain"></i>
                    Memory
                </button>
                <button 
                    class="filter-btn @(selectedCategory == "motor" ? "active" : "")"
                    @onclick="@(() => FilterByCategory("motor"))">
                    <i class="bi bi-lightning"></i>
                    Motor
                </button>
                <button 
                    class="filter-btn @(selectedCategory == "cognition" ? "active" : "")"
                    @onclick="@(() => FilterByCategory("cognition"))">
                    <i class="bi bi-diagram-3"></i>
                    Cognition
                </button>
                <button 
                    class="filter-btn @(selectedCategory == "language" ? "active" : "")"
                    @onclick="@(() => FilterByCategory("language"))">
                    <i class="bi bi-chat-quote"></i>
                    Language
                </button>
                <button 
                    class="filter-btn @(selectedCategory == "relaxation" ? "active" : "")"
                    @onclick="@(() => FilterByCategory("relaxation"))">
                    <i class="bi bi-heart-pulse"></i>
                    Wellness
                </button>
                <button 
                    class="filter-btn @(selectedCategory == "attention" ? "active" : "")"
                    @onclick="@(() => FilterByCategory("attention"))">
                    <i class="bi bi-eye"></i>
                    Attention
                </button>
            </div>
        </div>
    </section>

    <!-- Games Grid -->
    <section class="games-grid-section">
        @if (filteredGames.Count == 0)
        {
            <div class="no-games">
                <i class="bi bi-inbox"></i>
                <p>No games or activities found matching your criteria.</p>
            </div>
        }
        else
        {
            <div class="games-grid">
                @foreach (var game in filteredGames)
                {
                    <div class="game-card @(game.IsActivity ? "activity-card" : "")">
                        <div class="game-card-header">
                            <div class="game-icon-bg @($"bg-{game.Category}")">
                                <i class="@game.Icon"></i>
                            </div>
                            <div class="badge-group">
                                @if (game.IsActivity)
                                {
                                    <span class="type-badge activity-type">Activity</span>
                                }
                                else
                                {
                                    <span class="type-badge game-type">Game</span>
                                }
                                <span class="game-badge @($"badge-{game.Category}")">@game.CategoryDisplay</span>
                            </div>
                        </div>

                        <div class="game-card-body">
                            <h3 class="game-title">@game.Name</h3>
                            <p class="game-description">@game.Description</p>

                            <div class="game-stats">
                                <div class="stat">
                                    <i class="bi bi-hourglass-split"></i>
                                    <span>@game.DurationMinutes min</span>
                                </div>
                                <div class="stat">
                                    <i class="bi bi-speedometer2"></i>
                                    <span>@game.Difficulty</span>
                                </div>
                            </div>

                            <div class="game-features">
                                @foreach (var feature in game.Features)
                                {
                                    <span class="feature-tag">@feature</span>
                                }
                            </div>
                        </div>

                        <div class="game-card-footer">
                            <a href="@game.Route" class="play-btn @(game.IsActivity ? "start-btn" : "")">
                                <i class="bi @(game.IsActivity ? "bi-play-circle" : "bi-play-fill")"></i>
                                @(game.IsActivity ? "Start Activity" : "Play Now")
                            </a>
                            <button class="info-btn" title="More information" @onclick="() => ShowGameInfo(game)">
                                <i class="bi bi-info-circle"></i>
                            </button>
                        </div>
                    </div>
                }
            </div>
        }
    </section>
</div>

@code {
    private string searchTerm = "";
    private string selectedCategory = "";
    private List<GameItem> allGames = new();
    private List<GameItem> filteredGames = new();
    private bool showInfoModal = false;
    private GameItem? selectedGame = null;

    protected override void OnInitialized()
    {
        // Initialize all games and activities
        allGames = new List<GameItem>
        {
            // ===== GAMES =====
            new GameItem
            {
                Id = 1,
                Name = "Memory Match",
                Description = "Test and improve your working memory by matching pairs of cards. Challenge yourself with increasingly difficult patterns.",
                Icon = "bi bi-collection",
                Category = "memory",
                CategoryDisplay = "Working Memory",
                Route = "/games/memory-match",
                DurationMinutes = 10,
                Difficulty = "Adaptive",
                Features = new List<string> { "Pattern Recognition", "Concentration", "Visual Memory" },
                IsActivity = false
            },
            new GameItem
            {
                Id = 2,
                Name = "Reaction Trainer",
                Description = "Sharpen your reflexes and improve reaction time with interactive challenges. Perfect for motor skill development.",
                Icon = "bi bi-lightning",
                Category = "motor",
                CategoryDisplay = "Motor Skills",
                Route = "/games/reaction-trainer",
                DurationMinutes = 8,
                Difficulty = "Progressive",
                Features = new List<string> { "Quick Reflexes", "Hand-Eye Coordination", "Speed Training" },
                IsActivity = false
            },
            new GameItem
            {
                Id = 3,
                Name = "Sorting Task",
                Description = "Develop logical thinking and problem-solving skills. Sort items by different criteria and improve cognitive flexibility.",
                Icon = "bi bi-diagram-3",
                Category = "cognition",
                CategoryDisplay = "Cognition",
                Route = "/games/sorting-task",
                DurationMinutes = 12,
                Difficulty = "Adaptive",
                Features = new List<string> { "Logic Puzzles", "Problem Solving", "Classification" },
                IsActivity = false
            },
            new GameItem
            {
                Id = 4,
                Name = "Pattern Copy",
                Description = "Train your visual memory by memorizing and reproducing patterns. Improve spatial awareness and visual recall ability.",
                Icon = "bi bi-grid-3x3",
                Category = "memory",
                CategoryDisplay = "Visual Memory",
                Route = "/games/pattern-copy",
                DurationMinutes = 8,
                Difficulty = "Adaptive",
                Features = new List<string> { "Pattern Recognition", "Visual Memory", "Spatial Awareness" },
                IsActivity = false
            },

            // ===== ACTIVITIES =====
            new GameItem
            {
                Id = 5,
                Name = "Daily Journal",
                Description = "Write about your day, thoughts, and experiences. Journaling improves memory recall, language skills, and emotional well-being.",
                Icon = "bi bi-journal-text",
                Category = "language",
                CategoryDisplay = "Language & Memory",
                Route = "/activities/daily-journal",
                DurationMinutes = 15,
                Difficulty = "Relaxed",
                Features = new List<string> { "Writing Skills", "Memory Recall", "Self-Reflection" },
                IsActivity = true
            },
            new GameItem
            {
                Id = 6,
                Name = "Word Association",
                Description = "Connect words by meaning, sound, or category. Strengthen semantic memory and improve language processing speed.",
                Icon = "bi bi-link-45deg",
                Category = "language",
                CategoryDisplay = "Language",
                Route = "/activities/word-association",
                DurationMinutes = 10,
                Difficulty = "Adaptive",
                Features = new List<string> { "Vocabulary", "Semantic Memory", "Quick Thinking" },
                IsActivity = true
            },
            new GameItem
            {
                Id = 7,
                Name = "Breathing Exercise",
                Description = "Guided breathing exercises to reduce stress, improve focus, and enhance cognitive performance through relaxation.",
                Icon = "bi bi-wind",
                Category = "relaxation",
                CategoryDisplay = "Wellness",
                Route = "/activities/breathing-exercise",
                DurationMinutes = 5,
                Difficulty = "Easy",
                Features = new List<string> { "Stress Relief", "Focus", "Mindfulness" },
                IsActivity = true
            },
            new GameItem
            {
                Id = 8,
                Name = "Story Recall",
                Description = "Read short stories and answer comprehension questions. Improve reading comprehension, memory, and attention to detail.",
                Icon = "bi bi-book",
                Category = "memory",
                CategoryDisplay = "Comprehension",
                Route = "/activities/story-recall",
                DurationMinutes = 15,
                Difficulty = "Progressive",
                Features = new List<string> { "Reading", "Comprehension", "Detail Memory" },
                IsActivity = true
            },
            new GameItem
            {
                Id = 9,
                Name = "Mental Math",
                Description = "Solve arithmetic problems without a calculator. Improve numerical reasoning, working memory, and processing speed.",
                Icon = "bi bi-calculator",
                Category = "cognition",
                CategoryDisplay = "Math & Logic",
                Route = "/activities/mental-math",
                DurationMinutes = 10,
                Difficulty = "Adaptive",
                Features = new List<string> { "Arithmetic", "Working Memory", "Speed" },
                IsActivity = true
            },
            new GameItem
            {
                Id = 10,
                Name = "Focus Tracker",
                Description = "Track moving objects on screen and identify changes. Enhance sustained attention and visual tracking abilities.",
                Icon = "bi bi-bullseye",
                Category = "attention",
                CategoryDisplay = "Attention",
                Route = "/activities/focus-tracker",
                DurationMinutes = 8,
                Difficulty = "Progressive",
                Features = new List<string> { "Visual Tracking", "Sustained Attention", "Concentration" },
                IsActivity = true
            },
            new GameItem
            {
                Id = 11,
                Name = "Word Puzzles",
                Description = "Solve crosswords, anagrams, and word searches. Boost vocabulary, spelling, and language processing skills.",
                Icon = "bi bi-puzzle",
                Category = "language",
                CategoryDisplay = "Language",
                Route = "/activities/word-puzzles",
                DurationMinutes = 15,
                Difficulty = "Varied",
                Features = new List<string> { "Vocabulary", "Spelling", "Problem Solving" },
                IsActivity = true
            },
            new GameItem
            {
                Id = 12,
                Name = "Number Sequence",
                Description = "Complete number patterns and sequences. Strengthen mathematical reasoning and logical thinking abilities.",
                Icon = "bi bi-123",
                Category = "cognition",
                CategoryDisplay = "Math & Logic",
                Route = "/activities/number-sequence",
                DurationMinutes = 10,
                Difficulty = "Adaptive",
                Features = new List<string> { "Pattern Recognition", "Logic", "Math Skills" },
                IsActivity = true
            },
            new GameItem
            {
                Id = 13,
                Name = "Sound Therapy",
                Description = "Healing sounds for relaxation and mental wellness. Choose from nature sounds, ambient music, and meditation audio to reduce stress and improve focus.",
                Icon = "bi bi-music-note-beamed",
                Category = "relaxation",
                CategoryDisplay = "Wellness",
                Route = "/activities/sound-therapy",
                DurationMinutes = 10,
                Difficulty = "Easy",
                Features = new List<string> { "Stress Relief", "Relaxation", "Mindfulness", "Sound Healing" },
                IsActivity = true
            },

            // ===== EXECUTIVE FUNCTION GAMES =====
            new GameItem
            {
                Id = 14,
                Name = "Trail Making",
                Description = "Connect numbered and lettered circles in sequence as fast as possible. A classic neuropsychological test that measures visual attention, task switching, and processing speed.",
                Icon = "bi bi-bezier2",
                Category = "attention",
                CategoryDisplay = "Executive Function",
                Route = "/games/trail-making",
                DurationMinutes = 10,
                Difficulty = "Adaptive",
                Features = new List<string> { "Visual Attention", "Task Switching", "Processing Speed", "Sequential Thinking" },
                IsActivity = false
            },
            new GameItem
            {
                Id = 15,
                Name = "Dual Task Training",
                Description = "Train your brain to handle multiple tasks simultaneously. Perform visual tracking while solving math problems to improve divided attention and cognitive flexibility.",
                Icon = "bi bi-diagram-3",
                Category = "attention",
                CategoryDisplay = "Multi-Tasking",
                Route = "/games/dual-task",
                DurationMinutes = 12,
                Difficulty = "Challenging",
                Features = new List<string> { "Divided Attention", "Multi-Tasking", "Working Memory", "Cognitive Flexibility" },
                IsActivity = false
            },
            new GameItem
            {
                Id = 16,
                Name = "Stroop Test",
                Description = "The classic cognitive interference test. Name the ink color of color words, not the word itself. Measures and improves inhibitory control, selective attention, and processing speed.",
                Icon = "bi bi-palette",
                Category = "cognition",
                CategoryDisplay = "Inhibition Control",
                Route = "/games/stroop-test",
                DurationMinutes = 8,
                Difficulty = "Adaptive",
                Features = new List<string> { "Inhibition Control", "Selective Attention", "Processing Speed", "Executive Function" },
                IsActivity = false
            }
        };

        filteredGames = new List<GameItem>(allGames);
    }

    private void FilterGames()
    {
        filteredGames = allGames
            .Where(g =>
                (string.IsNullOrEmpty(selectedCategory) || g.Category == selectedCategory) &&
                (string.IsNullOrEmpty(searchTerm) || 
                 g.Name.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) ||
                 g.Description.Contains(searchTerm, StringComparison.OrdinalIgnoreCase))
            )
            .ToList();
    }

    private void FilterByCategory(string? category)
    {
        selectedCategory = category ?? "";
        FilterGames();
    }

    private void ShowGameInfo(GameItem game)
    {
        selectedGame = game;
        showInfoModal = true;
    }

    private void CloseInfoModal()
    {
        showInfoModal = false;
        selectedGame = null;
    }

    private List<string> GetGameBenefits(int gameId)
    {
        return gameId switch
        {
            1 => new List<string>
            {
                "Strengthens short-term and working memory capacity",
                "Improves concentration and sustained attention",
                "Enhances visual-spatial processing abilities",
                "Develops pattern recognition skills",
                "Boosts mental flexibility and cognitive speed"
            },
            2 => new List<string>
            {
                "Improves reaction time and processing speed",
                "Enhances hand-eye coordination",
                "Strengthens motor control and precision",
                "Develops quick decision-making abilities",
                "Builds alertness and sustained attention"
            },
            3 => new List<string>
            {
                "Develops logical reasoning and critical thinking",
                "Improves categorization and classification skills",
                "Enhances cognitive flexibility and adaptability",
                "Strengthens executive function and planning",
                "Builds problem-solving strategies"
            },
            4 => new List<string>
            {
                "Strengthens visual memory and recall",
                "Improves spatial awareness and orientation",
                "Enhances pattern recognition abilities",
                "Develops attention to detail",
                "Builds visual-motor integration skills"
            },
            5 => new List<string>
            {
                "Improves memory recall through daily reflection",
                "Enhances written language and expression skills",
                "Supports emotional processing and well-being",
                "Strengthens narrative thinking abilities",
                "Builds self-awareness and mindfulness"
            },
            6 => new List<string>
            {
                "Strengthens semantic memory connections",
                "Improves vocabulary and word retrieval",
                "Enhances creative and lateral thinking",
                "Develops quick language processing",
                "Builds association and categorization skills"
            },
            7 => new List<string>
            {
                "Reduces stress and anxiety levels",
                "Improves focus and concentration",
                "Enhances cognitive performance through relaxation",
                "Supports emotional regulation",
                "Builds mindfulness and present-moment awareness"
            },
            8 => new List<string>
            {
                "Strengthens reading comprehension skills",
                "Improves short-term memory for details",
                "Enhances attention and focus during reading",
                "Develops inferential thinking abilities",
                "Builds vocabulary through contextual learning"
            },
            9 => new List<string>
            {
                "Improves numerical reasoning and calculation",
                "Strengthens working memory capacity",
                "Enhances mental processing speed",
                "Develops problem-solving strategies",
                "Builds confidence with numbers"
            },
            10 => new List<string>
            {
                "Improves sustained attention span",
                "Enhances visual tracking abilities",
                "Strengthens focus and concentration",
                "Develops divided attention skills",
                "Builds mental endurance"
            },
            11 => new List<string>
            {
                "Expands vocabulary and word knowledge",
                "Improves spelling and language accuracy",
                "Enhances problem-solving with language",
                "Strengthens pattern recognition in words",
                "Builds patience and persistence"
            },
            12 => new List<string>
            {
                "Develops mathematical pattern recognition",
                "Improves logical reasoning abilities",
                "Enhances sequential thinking skills",
                "Strengthens numerical fluency",
                "Builds analytical thinking habits"
            },
            13 => new List<string>
            {
                "Reduces stress and anxiety levels significantly",
                "Improves focus and mental clarity",
                "Enhances overall mood and emotional well-being",
                "Supports better sleep quality when used before bed",
                "Activates the parasympathetic nervous system for relaxation",
                "Can lower blood pressure and heart rate"
            },
            14 => new List<string>
            {
                "Improves visual scanning and attention",
                "Enhances task-switching and cognitive flexibility",
                "Measures and improves processing speed",
                "Strengthens sequential thinking and planning",
                "Develops hand-eye coordination",
                "Classic neuropsychological assessment for executive function"
            },
            15 => new List<string>
            {
                "Dramatically improves divided attention capacity",
                "Enhances multi-tasking abilities",
                "Strengthens working memory under cognitive load",
                "Improves cognitive flexibility and task management",
                "Develops real-world skills for handling competing demands",
                "Builds mental resilience and focus under pressure"
            },
            16 => new List<string>
            {
                "Strengthens inhibitory control and impulse management",
                "Improves selective attention and focus",
                "Enhances processing speed under cognitive interference",
                "Develops executive function capabilities",
                "Measures and tracks cognitive flexibility progress",
                "A gold-standard neuropsychological assessment tool"
            },
            _ => new List<string> { "Improves overall cognitive function" }
        };
    }

    private List<string> GetGameInstructions(int gameId)
    {
        return gameId switch
        {
            1 => new List<string>
            {
                "Click 'Start Game' to begin your session",
                "Cards will appear face-down on the grid",
                "Click on a card to reveal its symbol",
                "Click on another card to find its matching pair",
                "Match all pairs to complete the level",
                "Try to complete matches with fewer attempts for higher scores"
            },
            2 => new List<string>
            {
                "Press 'Start' to begin the reaction test",
                "Wait for the target to appear on screen",
                "Click the target as quickly as possible when it appears",
                "Your reaction time will be recorded",
                "Complete multiple rounds to track improvement",
                "Try to beat your personal best time!"
            },
            3 => new List<string>
            {
                "Read the sorting criteria at the top of the screen",
                "Drag items from the center area to the correct category",
                "Sort all items correctly to complete the round",
                "Criteria may change between rounds",
                "Accuracy and speed both contribute to your score",
                "Complete multiple levels to increase difficulty"
            },
            4 => new List<string>
            {
                "Watch the pattern carefully during the memorization phase",
                "Remember which cells are highlighted",
                "When prompted, recreate the pattern by clicking the cells",
                "Submit your answer to check accuracy",
                "Patterns become more complex as you progress",
                "Take your time to memorize before attempting to copy"
            },
            5 => new List<string>
            {
                "Click 'Start Activity' to open your journal",
                "Read the daily prompt or write freely",
                "Type your thoughts, experiences, or reflections",
                "Take your time - there's no rush",
                "Save your entry when finished",
                "Review past entries to track your progress"
            },
            6 => new List<string>
            {
                "You'll see a starting word on screen",
                "Type a word that's associated with it",
                "Words can be connected by meaning, sound, or category",
                "Continue building the word chain",
                "Try to think quickly but accurately",
                "The activity adapts to your performance level"
            },
            7 => new List<string>
            {
                "Find a comfortable, quiet position",
                "Follow the visual breathing guide on screen",
                "Breathe in as the circle expands",
                "Hold when prompted",
                "Breathe out as the circle contracts",
                "Continue for the full session duration"
            },
            8 => new List<string>
            {
                "Read the short story carefully",
                "Pay attention to details, names, and events",
                "Take your time - comprehension matters more than speed",
                "Answer the questions after reading",
                "You can refer back to the story if needed",
                "Review your answers and learn from mistakes"
            },
            9 => new List<string>
            {
                "Math problems will appear on screen",
                "Calculate the answer mentally (no calculator)",
                "Type your answer and submit",
                "Problems adapt to your skill level",
                "Focus on accuracy first, then speed",
                "Track your improvement over time"
            },
            10 => new List<string>
            {
                "Objects will move across the screen",
                "Keep your eyes focused on the target object",
                "Track its movement among distractors",
                "Click when prompted to identify the target",
                "Difficulty increases as you improve",
                "Take breaks if your eyes feel strained"
            },
            11 => new List<string>
            {
                "Choose a puzzle type: crossword, anagram, or word search",
                "Read the clues or instructions carefully",
                "Type or select your answers",
                "Use hints if you get stuck",
                "Complete the puzzle to earn points",
                "Try different puzzle types for variety"
            },
            12 => new List<string>
            {
                "A number sequence will be displayed",
                "Find the pattern in the numbers",
                "Enter the next number(s) in the sequence",
                "Patterns may involve addition, multiplication, or other rules",
                "Difficulty increases progressively",
                "Take your time to analyze the pattern"
            },
            13 => new List<string>
            {
                "Browse sound categories: Nature, Ambient, Music, or Meditation",
                "Select one or more sounds to create your mix",
                "Choose your preferred session duration (5-60 minutes)",
                "Click 'Begin Session' to start your relaxation",
                "Adjust individual volume levels for each sound",
                "Use pause/resume controls as needed",
                "Rate your mood after the session completes"
            },
            14 => new List<string>
            {
                "Circles with numbers (Part A) or numbers and letters (Part B) appear on screen",
                "Connect the circles in ascending order as fast as possible",
                "Part A: 1 â†’ 2 â†’ 3 â†’ 4... and so on",
                "Part B: 1 â†’ A â†’ 2 â†’ B â†’ 3 â†’ C... alternating numbers and letters",
                "Click or tap each circle in the correct sequence",
                "Errors cost time - accuracy matters!",
                "Try to beat your previous completion time"
            },
            15 => new List<string>
            {
                "Two tasks run simultaneously - primary and secondary",
                "Primary Task: Track the colored shape and click when it changes color",
                "Secondary Task: Solve simple math problems as they appear",
                "Balance your attention between both tasks",
                "Accuracy on both tasks contributes to your score",
                "Higher levels increase speed and complexity",
                "Practice to improve your divided attention skills"
            },
            16 => new List<string>
            {
                "Color words appear on screen in different ink colors",
                "Your goal: identify the INK COLOR, NOT the word",
                "Example: The word 'RED' shown in blue ink â†’ click 'Blue'",
                "Select the matching color from the buttons below",
                "Classic mode shows congruent and incongruent trials",
                "Reverse mode: say the word, not the color",
                "Try to respond as quickly and accurately as possible"
            },
            _ => new List<string> { "Follow the on-screen instructions to play" }
        };
    }

    private string GetSkillLevel(int gameId)
    {
        return gameId switch
        {
            1 => "Beginner - Advanced",
            2 => "All Levels",
            3 => "Intermediate - Advanced",
            4 => "Beginner - Intermediate",
            5 => "All Levels",
            6 => "Beginner - Advanced",
            7 => "All Levels",
            8 => "Intermediate - Advanced",
            9 => "Beginner - Advanced",
            10 => "Beginner - Intermediate",
            11 => "Beginner - Advanced",
            12 => "Intermediate - Advanced",
            13 => "All Levels",
            14 => "All Levels",
            15 => "Intermediate - Advanced",
            16 => "All Levels",
            _ => "All Levels"
        };
    }

    private string GetGameTip(int gameId)
    {
        return gameId switch
        {
            1 => "ðŸ’¡ Start by focusing on corner cards first - they're easier to remember! Try to create mental associations between card positions and their symbols.",
            2 => "ðŸ’¡ Keep your eyes focused on the center of the screen and stay relaxed. Tension can actually slow your reaction time. Take deep breaths between rounds.",
            3 => "ðŸ’¡ Read the sorting rule carefully before starting. Look for patterns in the items - grouping similar items mentally can speed up your sorting.",
            4 => "ðŸ’¡ Try chunking the pattern into smaller sections. For larger grids, focus on one area at a time and create a mental path through the highlighted cells.",
            5 => "ðŸ’¡ Write at the same time each day to build a habit. Don't worry about perfect grammar - focus on expressing your thoughts freely.",
            6 => "ðŸ’¡ Let your mind flow freely when making associations. Sometimes unexpected connections reveal creative thinking patterns!",
            7 => "ðŸ’¡ Practice in a quiet environment. If your mind wanders, gently bring focus back to your breath without judgment.",
            8 => "ðŸ’¡ Visualize the story as you read - creating mental images helps with recall. Underline or note key details mentally.",
            9 => "ðŸ’¡ Break complex problems into smaller steps. For multiplication, try breaking numbers into easier components.",
            10 => "ðŸ’¡ Blink regularly to prevent eye strain. Try to predict where the object will move rather than just following it.",
            11 => "ðŸ’¡ For crosswords, fill in the words you're confident about first. They'll give you letter hints for trickier clues.",
            12 => "ðŸ’¡ Look for common patterns: adding, multiplying, alternating, or combining multiple rules. Write down the differences between numbers.",
            13 => "ðŸ’¡ For best results, use headphones in a quiet space. Research shows nature sounds at 60-80 BPM are optimal for relaxation. Try mixing 2-3 complementary sounds like rain + piano for a personalized experience.",
            14 => "ðŸ’¡ Plan your path visually before starting. For Part B, mentally rehearse the alternating sequence (1-A-2-B...) beforehand. Keep your hand close to the screen to minimize movement time.",
            15 => "ðŸ’¡ Don't try to focus 100% on both tasks - use peripheral awareness. Set a rhythm: check math, glance at shape, solve, repeat. Start with lower levels to build your dual-tasking skills gradually.",
            16 => "ðŸ’¡ Focus on the INK, not the word! When you see 'RED' in blue ink, train yourself to think 'ink color' immediately. Take a brief pause before answering if you feel rushed - accuracy matters more than raw speed.",
            _ => "ðŸ’¡ Practice regularly for the best results. Consistency is key to cognitive improvement!"
        };
    }

    // Game model
    private class GameItem
    {
        public int Id { get; set; }
        public string Name { get; set; } = "";
        public string Description { get; set; } = "";
        public string Icon { get; set; } = "";
        public string Category { get; set; } = "";
        public string CategoryDisplay { get; set; } = "";
        public string Route { get; set; } = "";
        public int DurationMinutes { get; set; }
        public string Difficulty { get; set; } = "";
        public List<string> Features { get; set; } = new();
        public bool IsActivity { get; set; } = false;
    }
}

<style>
    /* ========== GAMES PAGE CONTAINER ========== */
    .games-container {
        width: 100%;
        min-height: 100vh;
        background: linear-gradient(135deg, #f8f9fa 0%, #f3f4f6 100%);
        padding-top: 2rem;
    }

    /* ========== HEADER SECTION ========== */
    .games-header {
        background: linear-gradient(135deg, #6366f1 0%, #06b6d4 100%);
        color: white;
        padding: 4rem 1.5rem;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .header-content {
        max-width: 1000px;
        margin: 0 auto;
    }

    .games-title {
        font-size: 3rem;
        font-weight: 700;
        margin: 0 0 1rem 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
    }

    .games-title i {
        font-size: 3.5rem;
    }

    .games-subtitle {
        font-size: 1.125rem;
        margin: 0;
        opacity: 0.95;
        line-height: 1.6;
    }

    /* ========== CONTROLS SECTION ========== */
    .games-controls {
        max-width: 1200px;
        margin: -2rem auto 3rem auto;
        padding: 0 1.5rem;
        position: relative;
        z-index: 10;
    }

    .controls-wrapper {
        background: white;
        border-radius: 16px;
        padding: 1.5rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        display: grid;
        gap: 1.5rem;
    }

    /* ========== SEARCH BOX ========== */
    .search-box {
        position: relative;
        display: flex;
        align-items: center;
    }

    .search-box i {
        position: absolute;
        left: 1rem;
        color: #9ca3af;
        font-size: 1.25rem;
    }

    .search-input {
        width: 100%;
        padding: 0.875rem 1rem 0.875rem 3rem;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        font-size: 1rem;
        font-family: inherit;
        transition: all 300ms ease;
    }

    .search-input:focus {
        outline: none;
        border-color: #6366f1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }

    /* ========== FILTER BUTTONS ========== */
    .filter-buttons {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
    }

    .filter-btn {
        padding: 0.75rem 1.25rem;
        border: 2px solid #e5e7eb;
        background: white;
        border-radius: 12px;
        font-size: 0.95rem;
        font-weight: 500;
        color: #4b5563;
        cursor: pointer;
        font-family: inherit;
        transition: all 300ms ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        white-space: nowrap;
    }

    .filter-btn:hover {
        border-color: #6366f1;
        color: #6366f1;
        background-color: rgba(99, 102, 241, 0.05);
    }

    .filter-btn.active {
        border-color: #6366f1;
        background: linear-gradient(135deg, #6366f1 0%, #06b6d4 100%);
        color: white;
    }

    .filter-btn i {
        font-size: 1.125rem;
    }

    /* ========== GAMES GRID SECTION ========== */
    .games-grid-section {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem 3rem;
    }

    .no-games {
        text-align: center;
        padding: 4rem 2rem;
        color: #6b7280;
    }

    .no-games i {
        font-size: 4rem;
        color: #d1d5db;
        margin-bottom: 1rem;
        display: block;
    }

    .no-games p {
        font-size: 1.125rem;
        margin: 0;
    }

    /* ========== GAMES GRID ========== */
    .games-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 2rem;
    }

    /* ========== GAME CARD ========== */
    .game-card {
        background: white;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .game-card:hover {
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        transform: translateY(-8px);
    }

    /* ========== GAME CARD HEADER ========== */
    .game-card-header {
        padding: 1.5rem;
        background: linear-gradient(135deg, #f8f9fa 0%, #f3f4f6 100%);
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 1rem;
    }

    .game-icon-bg {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.75rem;
        color: white;
        flex-shrink: 0;
    }

    .bg-memory {
        background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
    }

    .bg-motor {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }

    .bg-cognition {
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    }

    .bg-language {
        background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
    }

    .bg-relaxation {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .bg-attention {
        background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
    }

    .badge-group {
        display: flex;
        flex-direction: column;
        gap: 0.375rem;
        align-items: flex-end;
    }

    .type-badge {
        font-size: 0.65rem;
        padding: 0.25rem 0.5rem;
        border-radius: 6px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .game-type {
        background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
        color: white;
    }

    .activity-type {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
    }

    .game-badge {
        font-size: 0.75rem;
        padding: 0.375rem 0.75rem;
        border-radius: 8px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        white-space: nowrap;
    }

    .badge-memory {
        background-color: #cffafe;
        color: #0c4a6e;
    }

    .badge-motor {
        background-color: #fef3c7;
        color: #78350f;
    }

    .badge-cognition {
        background-color: #ede9fe;
        color: #4c1d95;
    }

    .badge-language {
        background-color: #fce7f3;
        color: #9d174d;
    }

    .badge-relaxation {
        background-color: #d1fae5;
        color: #065f46;
    }

    .badge-attention {
        background-color: #ffedd5;
        color: #9a3412;
    }

    /* ========== GAME CARD BODY ========== */
    .game-card-body {
        padding: 1.5rem;
        flex-grow: 1;
    }

    .game-title {
        font-size: 1.375rem;
        font-weight: 700;
        color: #111827;
        margin: 0 0 0.5rem 0;
    }

    .game-description {
        font-size: 0.9375rem;
        color: #6b7280;
        margin: 0 0 1.25rem 0;
        line-height: 1.5;
    }

    /* ========== GAME STATS ========== */
    .game-stats {
        display: flex;
        gap: 1.5rem;
        margin-bottom: 1rem;
        padding: 1rem 0;
        border-top: 1px solid #e5e7eb;
        border-bottom: 1px solid #e5e7eb;
    }

    .stat {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        color: #4b5563;
    }

    .stat i {
        font-size: 1rem;
        color: #6366f1;
    }

    /* ========== GAME FEATURES ========== */
    .game-features {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1rem;
    }

    .feature-tag {
        font-size: 0.75rem;
        padding: 0.375rem 0.75rem;
        background-color: #f3f4f6;
        color: #4b5563;
        border-radius: 6px;
        border: 1px solid #e5e7eb;
    }

    /* ========== GAME CARD FOOTER ========== */
    .game-card-footer {
        padding: 1.5rem;
        background: #f9fafb;
        border-top: 1px solid #e5e7eb;
        display: flex;
        gap: 0.75rem;
        align-items: center;
    }

    .play-btn {
        flex-grow: 1;
        padding: 0.875rem 1.25rem;
        background: linear-gradient(135deg, #6366f1 0%, #06b6d4 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 0.95rem;
        font-weight: 600;
        text-decoration: none;
        cursor: pointer;
        font-family: inherit;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        transition: all 300ms ease;
    }

    .play-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
    }

    .info-btn {
        padding: 0.875rem;
        background: white;
        border: 2px solid #e5e7eb;
        border-radius: 10px;
        color: #6366f1;
        cursor: pointer;
        font-family: inherit;
        font-size: 1.1rem;
        transition: all 300ms ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .info-btn:hover {
        border-color: #6366f1;
        background-color: rgba(99, 102, 241, 0.05);
    }

    /* ========== INFO MODAL STYLES ========== */
    .info-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 1rem;
        animation: fadeIn 0.2s ease;
    }

    .info-modal {
        background: white;
        border-radius: 20px;
        width: 100%;
        max-width: 600px;
        max-height: 90vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
        animation: slideUp 0.3s ease;
    }

    .info-modal-header {
        padding: 1.5rem;
        display: flex;
        align-items: center;
        gap: 1rem;
        position: relative;
    }

    .modal-header-memory {
        background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
        color: white;
    }

    .modal-header-motor {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        color: white;
    }

    .modal-header-cognition {
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        color: white;
    }

    .modal-header-language {
        background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
        color: white;
    }

    .modal-header-relaxation {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
    }

    .modal-header-attention {
        background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        color: white;
    }

    .modal-icon {
        width: 56px;
        height: 56px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.75rem;
        flex-shrink: 0;
    }

    .modal-title-area {
        flex-grow: 1;
    }

    .modal-title-area h2 {
        margin: 0 0 0.25rem 0;
        font-size: 1.5rem;
        font-weight: 700;
    }

    .modal-badge {
        font-size: 0.7rem;
        padding: 0.25rem 0.625rem;
        border-radius: 6px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .modal-close-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        width: 36px;
        height: 36px;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        border-radius: 10px;
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        transition: all 200ms ease;
    }

    .modal-close-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.05);
    }

    .info-modal-body {
        padding: 1.5rem;
        overflow-y: auto;
        flex-grow: 1;
    }

    .info-section {
        margin-bottom: 1.5rem;
    }

    .info-section:last-child {
        margin-bottom: 0;
    }

    .info-section h3 {
        font-size: 1rem;
        font-weight: 600;
        color: #374151;
        margin: 0 0 0.75rem 0;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .info-section h3 i {
        color: #6366f1;
        font-size: 1.1rem;
    }

    .info-section p {
        color: #6b7280;
        line-height: 1.6;
        margin: 0;
        font-size: 0.9375rem;
    }

    .benefits-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .benefits-list li {
        display: flex;
        align-items: flex-start;
        gap: 0.625rem;
        padding: 0.5rem 0;
        color: #4b5563;
        font-size: 0.9375rem;
        line-height: 1.5;
    }

    .benefits-list li i {
        color: #10b981;
        font-size: 0.875rem;
        margin-top: 0.2rem;
        flex-shrink: 0;
    }

    .instructions-list {
        padding-left: 1.25rem;
        margin: 0;
    }

    .instructions-list li {
        padding: 0.375rem 0;
        color: #4b5563;
        font-size: 0.9375rem;
        line-height: 1.5;
    }

    .instructions-list li::marker {
        color: #6366f1;
        font-weight: 600;
    }

    .info-stats-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
        margin-bottom: 1.5rem;
    }

    .info-stat-card {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 1rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .info-stat-card i {
        font-size: 1.5rem;
        color: #6366f1;
    }

    .stat-info {
        display: flex;
        flex-direction: column;
    }

    .stat-label {
        font-size: 0.75rem;
        color: #9ca3af;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .stat-value {
        font-size: 0.9375rem;
        font-weight: 600;
        color: #1f2937;
    }

    .skills-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .skill-tag {
        font-size: 0.8125rem;
        padding: 0.5rem 0.875rem;
        border-radius: 8px;
        font-weight: 500;
    }

    .tag-memory {
        background: #cffafe;
        color: #0e7490;
    }

    .tag-motor {
        background: #fef3c7;
        color: #b45309;
    }

    .tag-cognition {
        background: #ede9fe;
        color: #6d28d9;
    }

    .tag-language {
        background: #fce7f3;
        color: #be185d;
    }

    .tag-relaxation {
        background: #d1fae5;
        color: #047857;
    }

    .tag-attention {
        background: #ffedd5;
        color: #c2410c;
    }

    /* Activity card accent */
    .activity-card {
        border-left: 4px solid #10b981;
    }

    .start-btn {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
    }

    .start-btn:hover {
        box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3) !important;
    }

    .tip-section .tip-card {
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        border-radius: 12px;
        padding: 1rem;
        border-left: 4px solid #f59e0b;
    }

    .tip-card p {
        color: #78350f !important;
        font-size: 0.9375rem;
        margin: 0;
    }

    .info-modal-footer {
        padding: 1.25rem 1.5rem;
        background: #f9fafb;
        border-top: 1px solid #e5e7eb;
        display: flex;
        gap: 0.75rem;
    }

    .modal-cancel-btn {
        flex: 1;
        padding: 0.875rem 1.25rem;
        background: white;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        font-size: 0.95rem;
        font-weight: 600;
        color: #6b7280;
        cursor: pointer;
        font-family: inherit;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        transition: all 200ms ease;
    }

    .modal-cancel-btn:hover {
        border-color: #9ca3af;
        color: #374151;
    }

    .modal-play-btn {
        flex: 2;
        padding: 0.875rem 1.25rem;
        background: linear-gradient(135deg, #6366f1 0%, #06b6d4 100%);
        border: none;
        border-radius: 12px;
        font-size: 0.95rem;
        font-weight: 600;
        color: white;
        cursor: pointer;
        font-family: inherit;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        transition: all 200ms ease;
    }

    .modal-play-btn:hover {
        transform: scale(1.02);
        box-shadow: 0 8px 20px rgba(99, 102, 241, 0.35);
    }

    /* ========== RESPONSIVE ========== */
    @@media (max-width: 768px) {
        .games-header {
            padding: 2.5rem 1rem;
        }

        .games-title {
            font-size: 1.875rem;
        }

        .games-title i {
            font-size: 2rem;
        }

        .games-subtitle {
            font-size: 1rem;
        }

        .controls-wrapper {
            padding: 1rem;
        }

        .filter-buttons {
            gap: 0.5rem;
        }

        .filter-btn {
            padding: 0.625rem 1rem;
            font-size: 0.875rem;
        }

        .games-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        .game-card-header {
            padding: 1rem;
        }

        .game-card-body {
            padding: 1rem;
        }

        .game-card-footer {
            padding: 1rem;
        }
    }

    @@media (max-width: 480px) {
        .games-header {
            padding: 1.5rem 0.75rem;
        }

        .games-title {
            font-size: 1.5rem;
            gap: 0.5rem;
        }

        .games-title i {
            font-size: 1.5rem;
        }

        .games-subtitle {
            font-size: 0.9375rem;
        }

        .games-grid-section {
            padding: 0 0.75rem 2rem;
        }

        .game-stats {
            gap: 1rem;
            font-size: 0.8125rem;
        }

        /* Modal mobile styles */
        .info-modal {
            max-height: 95vh;
            border-radius: 16px;
        }

        .info-modal-header {
            padding: 1rem;
        }

        .modal-icon {
            width: 44px;
            height: 44px;
            font-size: 1.375rem;
        }

        .modal-title-area h2 {
            font-size: 1.25rem;
        }

        .info-modal-body {
            padding: 1rem;
        }

        .info-stats-grid {
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
        }

        .info-stat-card {
            padding: 0.75rem;
        }

        .info-stat-card i {
            font-size: 1.25rem;
        }

        .info-modal-footer {
            padding: 1rem;
            flex-direction: column;
        }

        .modal-cancel-btn,
        .modal-play-btn {
            flex: none;
            width: 100%;
        }
    }
</style>
